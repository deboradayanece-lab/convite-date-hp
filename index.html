<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Convite Especial ‚Äî Sala Comunal</title>

  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    html,body { height: 100%; }
    body {
      font-family: "Arial", sans-serif;
      color: #fff;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 40px;
      position: relative;
      --accent: #d4a017;
    }

    .bg {
      position: fixed;
      inset: 0;
      z-index: -3;
      background: linear-gradient(90deg, #2b1300 0%, #3e1a00 25%, #6b3e07 50%, #3e1a00 75%, #2b1300 100%);
      background-size: 400% 100%;
      animation: bg-slide 25s linear infinite;
      filter: blur(18px) brightness(0.6);
      transform-origin: center;
    }
    @keyframes bg-slide {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .card {
      width: min(920px, 95%);
      background: rgba(8,5,3,0.35);
      border: 1px solid rgba(212,160,23,0.08);
      box-shadow: 0 8px 40px rgba(0,0,0,0.6);
      padding: 36px;
      border-radius: 14px;
      backdrop-filter: blur(4px) saturate(120%);
      text-align: center;
      position: relative;
      z-index: 5;
    }

    h1 { font-size: clamp(18px, 2.6vw, 34px); margin-bottom: 18px; color: var(--accent); letter-spacing: 0.6px; }
    .subtitle { margin-bottom: 18px; color: #f7ecd6; opacity: 0.95; }

    #buttons { margin-top: 14px; position: relative; height: 56px; }
    button {
      padding: 12px 22px;
      font-size: 16px;
      border-radius: 10px;
      border: none;
      cursor: pointer;
      transition: transform .12s ease, box-shadow .12s ease;
      user-select: none;
    }
    #yes {
      background: linear-gradient(135deg,#ffd97a,#d89f2a);
      color: #1b0b00;
      font-weight: 700;
      margin-right: 12px;
      box-shadow: 0 6px 18px rgba(216,159,42,0.18);
    }
    #yes:active { transform: translateY(2px); }
    #no {
      background: linear-gradient(135deg,#9b1c0e,#ff5d3e);
      color: #fff;
      position: absolute;
      left: 50%;
      transform: translateX(20px);
      box-shadow: 0 6px 18px rgba(255,93,62,0.14);
      pointer-events: auto;
    }

    #result { display: none; margin-top: 22px; color: #fffbe6; }
    #result img.small { width: 140px; margin: 8px; border-radius: 8px; }

    .floating {
      position: fixed;
      z-index: -1;
      opacity: 0.9;
      pointer-events: none;
      filter: drop-shadow(0 6px 12px rgba(0,0,0,0.6));
    }
    @keyframes floatUp {
      0% { transform: translateY(110vh) translateX(0) rotate(0deg); opacity: 0; }
      10% { opacity: 0.35; }
      50% { opacity: 0.55; }
      100% { transform: translateY(-140vh) translateX(-20px) rotate(360deg); opacity: 0; }
    }
    #carta1 { left: 6%; width: 120px; animation: floatUp 16s linear infinite; transform-origin: center; }
    #carta2 { left: 74%; width: 100px; animation: floatUp 19s linear infinite; transform-origin: center; }
    #carta3 { left: 42%; width: 110px; animation: floatUp 21s linear infinite; transform-origin: center; }
    #varinha1 { left: 28%; width: 96px; animation: floatUp 18s linear infinite; }
    #varinha2 { left: 82%; width: 96px; animation: floatUp 22s linear infinite; }
    #edwiges { left: 52%; width: 160px; animation: floatUp 24s linear infinite; opacity: 0.6; }
    #brilho1 { left: 20%; width: 64px; animation: floatUp 12s linear infinite; opacity: 0.9; filter: blur(2px); }
    #brilho2 { left: 60%; width: 48px; animation: floatUp 14s linear infinite; opacity: 0.9; filter: blur(2px); }

    @media (max-width:720px) {
      #no { left: auto; right: 8%; transform: none; }
      .floating { display: none; }
      .card { padding: 22px; }
    }

    .audio-controls { margin-top: 14px; display:flex; gap:10px; justify-content:center; align-items:center; }
    .play-btn {
      background: linear-gradient(135deg,#e3b34a,#ffd97a);
      color:#1b0b00;
      padding:8px 14px;
      border-radius:10px;
      font-weight:700;
      cursor:pointer;
      border:none;
      box-shadow:0 6px 18px rgba(216,159,42,0.18);
    }
    .small-note { font-size:13px; color:#f0e6d0; opacity:0.85; margin-top:6px; }
  </style>
</head>
<body>
  <div class="bg" aria-hidden="true"></div>

  <img id="carta1" class="floating" src="https://i.imgur.com/y74uxvx.png" alt="Carta de Hogwarts">
  <img id="carta2" class="floating" src="https://i.imgur.com/y74uxvx.png" alt="Carta de Hogwarts">
  <img id="carta3" class="floating" src="https://i.imgur.com/y74uxvx.png" alt="Carta de Hogwarts">

  <img id="varinha1" class="floating" src="https://i.imgur.com/TEtno7I.png" alt="Varinha">
  <img id="varinha2" class="floating" src="https://i.imgur.com/TEtno7I.png" alt="Varinha">

  <img id="edwiges" class="floating" src="https://i.imgur.com/ZyqvJ1W.png" alt="Edwiges">
  <img id="brilho1" class="floating" src="https://i.imgur.com/4Jba88v.png" alt="Brilho">
  <img id="brilho2" class="floating" src="https://i.imgur.com/4Jba88v.png" alt="Brilho">

  <div class="card" role="main">
    <h1>Voc√™ gostaria de assistir Harry Potter comigo no cinema?</h1>
    <div class="subtitle">Prometo pipoca, conversa e muito encanto ‚ú®</div>

    <div id="buttons">
      <button id="yes" onclick="sayYes()">SIM üíõ</button>
      <button id="no" onmouseover="escapeButton()">N√ÉO ‚ùå</button>
    </div>

    <div id="result">
      <h2>EU SABIA QUE VOC√ä DIRIA SIM ‚ú®üíõ</h2>
      <p class="small-note">Vou garantir os ingressos ‚Äî marca s√≥ o dia que voc√™ pode!</p>

      <div style="margin-top:12px;">
        <img class="small" src="https://i.imgur.com/Q3vQ6QK.png" alt="poster1">
        <img class="small" src="https://i.imgur.com/ZfYfC0f.jpeg" alt="poster2">
        <img class="small" src="https://i.imgur.com/DLwLd6R.jpeg" alt="poster3">
      </div>
    </div>

    <div class="audio-controls">
      <audio id="bg-audio" src="magical-fantasy.mp3" preload="auto"></audio>
      <button id="playToggle" class="play-btn" onclick="togglePlay()">Tocar magia ‚ú®</button>
      <div id="audioStatus" class="small-note">Clique em "Tocar magia" se a m√∫sica n√£o tocar automaticamente.</div>
    </div>
  </div>

  <script>
    function escapeButton() {
      const noButton = document.getElementById("no");
      const padding = 20;
      const maxX = window.innerWidth - noButton.offsetWidth - padding;
      const maxY = window.innerHeight - noButton.offsetHeight - padding;
      let x = Math.random() * (maxX - padding) + padding;
      let y = Math.random() * (maxY - padding) + padding;
      noButton.style.left = x + 'px';
      noButton.style.top = y + 'px';
    }

    function sayYes() {
      document.getElementById("buttons").style.display = "none";
      document.getElementById("result").style.display = "block";

      const audio = document.getElementById('bg-audio');
      if (audio) {
        audio.currentTime = 0;
        audio.play().catch(()=>{ console.log("Autoplay bloqueado."); });
        updatePlayButton();
      }
    }

    const audio = document.getElementById('bg-audio');
    const playBtn = document.getElementById('playToggle');
    const status = document.getElementById('audioStatus');

    function updatePlayButton(){
      if (!audio) return;
      if (audio.paused) {
        playBtn.textContent = 'Tocar magia ‚ú®';
        status.textContent = 'Clique em "Tocar magia" para ouvir o tema.';
      } else {
        playBtn.textContent = 'Pausar magia ‚è∏';
        status.textContent = 'M√∫sica tocando ‚Äî aproveite ‚ú®';
      }
    }

    function togglePlay(){
      if (!audio) return alert('Nenhum arquivo de √°udio encontrado. Fa√ßa upload de "magical-fantasy.mp3".');
      if (audio.paused) {
        audio.play().then(updatePlayButton).catch(()=>alert('Clique novamente para tocar a m√∫sica.'));
      } else {
        audio.pause();
        updatePlayButton();
      }
    }

    if (audio) {
      audio.onplay = updatePlayButton;
      audio.onpause = updatePlayButton;
      audio.onended = ()=>{ audio.currentTime = 0; audio.pause(); updatePlayButton(); };
    }

    window.addEventListener('load', ()=>{
      const no = document.getElementById('no');
      if (no) { no.style.left = (window.innerWidth/2 + 20) + 'px'; no.style.top = (window.innerHeight/2) + 'px'; }
    });

    window.addEventListener('resize', ()=> {
      const no = document.getElementById('no');
      if (no) {
        const maxX = window.innerWidth - no.offsetWidth - 20;
        const maxY = window.innerHeight - no.offsetHeight - 20;
        let x = parseFloat(no.style.left) || (window.innerWidth/2 + 20);
        let y = parseFloat(no.style.top) || (window.innerHeight/2);
        x = Math.min(Math.max(10, x), maxX);
        y = Math.min(Math.max(10, y), maxY);
        no.style.left = x + 'px';
        no.style.top = y + 'px';
      }
    });
  </script>
</body>
</html>
